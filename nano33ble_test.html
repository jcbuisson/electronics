<html>
  <button id="button">Search device...</button>
</html>

<script>

document.addEventListener('DOMContentLoaded', function() {
   const buttons = document.getElementsByTagName('button')
   const searchButton = buttons[0]

   searchButton.onclick = function() {
      navigator.bluetooth.requestDevice({
         acceptAllDevices: true,
         optionalServices: ['battery_service'] // Required to access service later.
      })
      .then(device => { console.log('device', device) })
      .catch(error => { console.error(error); });
   }

   const selectElt = document.getElementsByTagName('select')[0]
   selectElt.addEventListener('change', function(ev) {
      document.body.style.backgroundColor = ev.target.value
   })
})
 
</script>
